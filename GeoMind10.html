<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoMind 10 - Ôn tập Địa lí 10 Toàn Diện</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.263.1"
      }
    }
    </script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f8fafc; }
        .rotate-y-180 { transform: rotateY(180deg); }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .perspective-1000 { perspective: 1000px; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="h-screen overflow-hidden text-slate-800">
    <div id="root" class="h-full flex flex-col"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useMemo } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            BookOpen, Brain, Zap, ArrowRight, RotateCcw, Check, X, Layers, Info, 
            Share2, RefreshCw, Shuffle, Minus, Plus, ThumbsUp, ThumbsDown, 
            Globe, Database, Award, Book, AlertCircle, CheckCircle
        } from 'lucide-react';

        // =================================================================================
        // PHẦN 1: DỮ LIỆU FLASHCARD (50 THẺ - BÀI 1 ĐẾN 15)
        // =================================================================================
        const fullFlashcardsData = [
            // CHƯƠNG 1: SỬ DỤNG BẢN ĐỒ
            { id: 1, category: "Bản đồ", term: "Bản đồ", definition: "Hình ảnh thu nhỏ một phần hay toàn bộ bề mặt Trái Đất lên mặt phẳng theo quy ước." },
            { id: 2, category: "Bản đồ", term: "Phép chiếu phương vị", definition: "Thể hiện mạng lưới kinh, vĩ tuyến lên mặt phẳng (thường dùng cho vùng cực)." },
            { id: 3, category: "Bản đồ", term: "Phép chiếu hình nón", definition: "Dùng hình nón trùm lên quả cầu (thường dùng cho vùng vĩ độ trung bình)." },
            { id: 4, category: "Bản đồ", term: "Phép chiếu hình trụ", definition: "Dùng hình trụ bao quanh quả cầu (thường dùng cho vùng Xích đạo)." },
            { id: 5, category: "Bản đồ", term: "Phương pháp kí hiệu", definition: "Thể hiện đối tượng phân bố theo điểm (sân bay, nhà máy, mỏ khoáng sản)." },
            { id: 6, category: "Bản đồ", term: "Phương pháp đường chuyển động", definition: "Thể hiện sự di chuyển (hướng gió, dòng biển, luồng di dân)." },
            { id: 7, category: "Bản đồ", term: "Phương pháp chấm điểm", definition: "Thể hiện đối tượng phân bố phân tán (dân cư nông thôn) bằng các điểm chấm." },
            { id: 8, category: "Bản đồ", term: "Phương pháp khoanh vùng", definition: "Thể hiện không gian phân bố của đối tượng (vùng trồng lúa, vùng dân tộc)." },
            { id: 9, category: "Bản đồ", term: "GPS", definition: "Hệ thống định vị toàn cầu, xác định vị trí, tọa độ, vận tốc vật thể." },
            { id: 10, category: "Bản đồ", term: "Bản đồ số", definition: "Dữ liệu bản đồ được số hóa, lưu trữ và hiển thị trên thiết bị điện tử." },
            
            // CHƯƠNG 2: TRÁI ĐẤT
            { id: 11, category: "Trái Đất", term: "Vũ trụ", definition: "Khoảng không gian vô tận chứa các thiên hà." },
            { id: 12, category: "Trái Đất", term: "Hệ Mặt Trời", definition: "Gồm Mặt Trời và các thiên thể chuyển động xung quanh (8 hành tinh)." },
            { id: 13, category: "Trái Đất", term: "Thuyết kiến tạo mảng", definition: "Thạch quyển gồm các mảng kiến tạo di chuyển trên lớp Manti quánh dẻo." },
            { id: 14, category: "Trái Đất", term: "Lực Cô-ri-ô-lít", definition: "Lực làm lệch hướng chuyển động: sang phải ở BC Bắc, sang trái ở BC Nam." },
            { id: 15, category: "Trái Đất", term: "Giờ múi", definition: "Giờ thống nhất trong từng múi (Trái Đất chia làm 24 múi giờ)." },
            { id: 16, category: "Trái Đất", term: "Đường chuyển ngày", definition: "Kinh tuyến 180 độ. Đi từ Tây sang Đông lùi 1 ngày, ngược lại tăng 1 ngày." },
            { id: 17, category: "Trái Đất", term: "Chuyển động biểu kiến", definition: "Chuyển động nhìn thấy nhưng không có thực của Mặt Trời." },
            
            // CHƯƠNG 3: THẠCH QUYỂN
            { id: 18, category: "Thạch quyển", term: "Thạch quyển", definition: "Gồm vỏ Trái Đất và phần cứng trên cùng của lớp Manti." },
            { id: 19, category: "Thạch quyển", term: "Nội lực", definition: "Lực sinh ra bên trong Trái Đất (năng lượng phóng xạ, phản ứng hóa học)." },
            { id: 20, category: "Thạch quyển", term: "Ngoại lực", definition: "Lực sinh ra bên ngoài, chủ yếu do năng lượng bức xạ Mặt Trời." },
            { id: 21, category: "Thạch quyển", term: "Địa hào", definition: "Bộ phận vỏ Trái Đất sụt xuống giữa hai đường đứt gãy." },
            { id: 22, category: "Thạch quyển", term: "Địa lũy", definition: "Bộ phận vỏ Trái Đất trồi lên giữa hai đường đứt gãy." },
            { id: 23, category: "Thạch quyển", term: "Phong hóa", definition: "Quá trình phá hủy đá (Lí học, Hóa học, Sinh học)." },
            { id: 24, category: "Thạch quyển", term: "Bồi tụ", definition: "Quá trình tích tụ các vật liệu (đồng bằng, cồn cát)." },

            // CHƯƠNG 4: KHÍ QUYỂN
            { id: 25, category: "Khí quyển", term: "Tầng đối lưu", definition: "Tầng thấp nhất, không khí chuyển động đối lưu, xảy ra mưa, gió, bão." },
            { id: 26, category: "Khí quyển", term: "Biên độ nhiệt", definition: "Sự chênh lệch giữa nhiệt độ cao nhất và thấp nhất." },
            { id: 27, category: "Khí quyển", term: "Khí áp", definition: "Sức nén của không khí xuống bề mặt Trái Đất." },
            { id: 28, category: "Khí quyển", term: "Gió Tây ôn đới", definition: "Thổi từ áp cao cận chí tuyến về áp thấp ôn đới (Tính chất: Ẩm)." },
            { id: 29, category: "Khí quyển", term: "Gió Mậu dịch", definition: "Thổi từ áp cao cận chí tuyến về áp thấp xích đạo (Tính chất: Khô)." },
            { id: 30, category: "Khí quyển", term: "Gió Mùa", definition: "Gió thổi theo mùa, hướng ngược nhau giữa hai mùa." },
            { id: 31, category: "Khí quyển", term: "Gió Phơn", definition: "Gió vượt núi, trở nên khô và nóng ở sườn khuất gió." },
            { id: 32, category: "Khí quyển", term: "Frông (Front)", definition: "Mặt ngăn cách giữa hai khối khí khác biệt về tính chất vật lí." },
            { id: 33, category: "Khí quyển", term: "Dải hội tụ nhiệt đới", definition: "Nơi gặp nhau của hai khối khí cùng tính chất nóng ẩm, gây mưa lớn." },

            // CHƯƠNG 5: THỦY QUYỂN
            { id: 34, category: "Thủy quyển", term: "Thủy quyển", definition: "Lớp nước trên Trái Đất (biển, sông, hồ, băng tuyết, nước ngầm)." },
            { id: 35, category: "Thủy quyển", term: "Hồ kiến tạo", definition: "Hồ hình thành tại các vết nứt, sụt lún (Vd: Hồ Bai-can)." },
            { id: 36, category: "Thủy quyển", term: "Hồ núi lửa", definition: "Hồ trên miệng núi lửa đã tắt (Vd: Hồ Tơ Nưng)." },
            { id: 37, category: "Thủy quyển", term: "Lưu lượng nước", definition: "Lượng nước chảy qua mặt cắt ngang lòng sông trong 1 giây." },
            { id: 38, category: "Thủy quyển", term: "Chế độ nước sông", definition: "Nhịp điệu thay đổi lưu lượng nước trong năm (mùa lũ, mùa cạn)." },
            { id: 39, category: "Thủy quyển", term: "Sóng biển", definition: "Dao động tại chỗ của nước biển, chủ yếu do gió." },
            { id: 40, category: "Thủy quyển", term: "Triều cường", definition: "Thủy triều lớn nhất (Trăng - Đất - Trời thẳng hàng)." },
            { id: 41, category: "Thủy quyển", term: "Dòng biển", definition: "Dòng chảy trong biển (Dòng nóng, dòng lạnh)." },

            // CHƯƠNG 6: SINH QUYỂN & ĐẤT
            { id: 42, category: "Đất", term: "Độ phì", definition: "Khả năng cung cấp nước, nhiệt, khí, dinh dưỡng cho cây." },
            { id: 43, category: "Đất", term: "Đá mẹ", definition: "Quyết định thành phần khoáng vật và tính chất cơ giới của đất." },
            { id: 44, category: "Đất", term: "Vỏ phong hóa", definition: "Lớp sản phẩm vụn thô, nguyên liệu tạo thành đất." },
            { id: 45, category: "Sinh quyển", term: "Sinh quyển", definition: "Quyển chứa toàn bộ sinh vật sống." },
            { id: 46, category: "Sinh quyển", term: "Nhân tố sinh học", definition: "Thực vật cung cấp hữu cơ; Vi sinh vật phân giải mùn." },
            
            // CÁC QUY LUẬT
            { id: 47, category: "Quy luật", term: "Lớp vỏ địa lí", definition: "Lớp vỏ xâm nhập và tác động lẫn nhau của các quyển." },
            { id: 48, category: "Quy luật", term: "Quy luật địa đới", definition: "Thay đổi theo vĩ độ (từ Xích đạo về Cực)." },
            { id: 49, category: "Quy luật", term: "Quy luật đai cao", definition: "Thay đổi theo độ cao (càng lên cao nhiệt độ càng giảm)." },
            { id: 50, category: "Quy luật", term: "Quy luật địa ô", definition: "Thay đổi theo kinh độ (từ đông sang tây)." }
        ];

        // =================================================================================
        // PHẦN 2: NGÂN HÀNG CÂU HỎI (200 CÂU - BAO PHỦ BÀI 1-15)
        // =================================================================================
        const questionBank = [
            // --- CHƯƠNG 1: BẢN ĐỒ ---
            { id: 1, question: "Nguyên nhân cơ bản khiến chúng ta phải sử dụng nhiều phép chiếu đồ khác nhau là:", options: ["Do bề mặt Trái Đất cong", "Do yêu cầu sử dụng khác nhau", "Do vị trí lãnh thổ cần thể hiện", "Do hình dáng lãnh thổ"], correct: 1, explanation: "Mỗi phép chiếu có ưu điểm riêng phù hợp với từng yêu cầu sử dụng cụ thể." },
            { id: 2, question: "Mặt phẳng chiếu đồ thường có dạng hình học là:", options: ["Hình nón", "Hình trụ", "Mặt phẳng", "Tất cả các ý trên"], correct: 3, explanation: "Ba loại mặt chiếu cơ bản: hình nón, hình trụ, mặt phẳng." },
            { id: 3, question: "Phép chiếu phương vị sử dụng mặt chiếu đồ là:", options: ["Hình nón", "Mặt phẳng", "Hình trụ", "Hình lục lăng"], correct: 1, explanation: "Phương vị là phép chiếu lên mặt phẳng." },
            { id: 4, question: "Cơ sở để phân chia các loại phép chiếu phương vị, hình nón, hình trụ là:", options: ["Vị trí lãnh thổ", "Hình dạng mặt chiếu", "Vị trí tiếp xúc", "Đặc điểm lưới chiếu"], correct: 1, explanation: "Dựa vào hình dạng của mặt chiếu đồ." },
            { id: 6, question: "Trong phép chiếu phương vị đứng, mặt chiếu tiếp xúc với địa cầu ở:", options: ["Cực", "Vòng cực", "Chí tuyến", "Xích đạo"], correct: 0, explanation: "Mặt phẳng tiếp xúc tại cực." },
            { id: 8, question: "Tính chính xác trong phép chiếu phương vị ngang có đặc điểm:", options: ["Cao ở xích đạo, giảm về 2 cực", "Cao ở kinh tuyến giữa", "Cao ở giao điểm kinh tuyến giữa và xích đạo", "Cao ở cực"], correct: 2, explanation: "Chính xác nhất tại điểm tiếp xúc (giao điểm xích đạo và kinh tuyến giữa)." },
            { id: 16, question: "Phép chiếu hình nón đứng thường dùng vẽ lãnh thổ có đặc điểm:", options: ["Vĩ độ trung bình, kéo dài Bắc-Nam", "Vĩ độ trung bình, kéo dài Đông-Tây", "Vĩ độ thấp", "Vĩ độ cao"], correct: 1, explanation: "Thích hợp cho lãnh thổ ở vĩ độ trung bình kéo dài theo vĩ tuyến." },
            { id: 17, question: "Phép chiếu hình trụ đứng thường dùng vẽ lãnh thổ:", options: ["Gần cực", "Gần xích đạo", "Gần vòng cực", "Vĩ độ trung bình"], correct: 1, explanation: "Hình trụ đứng tiếp xúc tại xích đạo, chính xác nhất ở vùng này." },
            { id: 21, question: "Bản đồ tỉ lệ lớn là loại bản đồ có tỉ lệ:", options: ["Lớn hơn hoặc bằng 1:200.000", "Lớn hơn 1:200.000", "Lớn hơn hoặc bằng 1:100.000", "Bé hơn 1:200.000"], correct: 1, explanation: "Theo quy ước bản đồ học." },
            { id: 23, question: "Phương pháp kí hiệu dùng để thể hiện đối tượng:", options: ["Phân bố rộng", "Phân bố theo điểm cụ thể", "Phân bố theo dải", "Không đồng đều"], correct: 1, explanation: "Dùng cho đối tượng định vị tại điểm (nhà máy, sân bay)." },
            { id: 26, question: "Các dạng kí hiệu thường dùng là:", options: ["Hình học", "Chữ", "Tượng hình", "Tất cả các ý trên"], correct: 3, explanation: "Có 3 dạng kí hiệu cơ bản." },
            { id: 28, question: "Phương pháp kí hiệu đường chuyển động thể hiện đối tượng:", options: ["Phân bố theo điểm", "Sự di chuyển theo các tuyến", "Phân bố theo tuyến", "Phân bố rải rác"], correct: 1, explanation: "Thể hiện sự di chuyển, hướng, cường độ." },
            { id: 31, question: "Phương pháp chấm điểm dùng để thể hiện đối tượng:", options: ["Phân tán, lẻ tẻ", "Tập trung theo điểm", "Theo tuyến", "Phạm vi rộng"], correct: 0, explanation: "Dùng cho dân cư nông thôn, phân bố gia súc." },
            { id: 32, question: "Phương pháp khoanh vùng dùng thể hiện đối tượng:", options: ["Tập trung theo điểm", "Không phân bố khắp nơi mà theo vùng", "Phân bố phạm vi rộng", "Phân tán"], correct: 1, explanation: "Ví dụ vùng trồng lúa, vùng phân bố dân tộc." },
            { id: 34, question: "Phương pháp bản đồ – biểu đồ thể hiện:", options: ["Chất lượng", "Giá trị tổng cộng trên đơn vị lãnh thổ", "Cơ cấu", "Động lực"], correct: 1, explanation: "Thể hiện tổng giá trị (ví dụ: tổng sản lượng lúa của tỉnh)." },
            { id: 300, question: "GPS là viết tắt của:", options: ["Global Positioning System", "Global Place System", "General Positioning System", "Global Point System"], correct: 0, explanation: "Hệ thống định vị toàn cầu." },
            { id: 301, question: "Ứng dụng của bản đồ số:", options: ["Tìm đường", "Lưu địa chỉ", "Chia sẻ vị trí", "Tất cả"], correct: 3, explanation: "Rất phổ biến trong đời sống." },
            
            // CHƯƠNG 2: TRÁI ĐẤT
            { id: 41, question: "Thành phần cấu tạo của mỗi thiên hà gồm:", options: ["Thiên thể, khí, bụi", "Thiên thể, khí, bụi, bức xạ", "Ngôi sao, hành tinh", "Hành tinh, vệ tinh"], correct: 1, explanation: "Bao gồm cả bức xạ điện từ." },
            { id: 44, question: "Theo thuyết Big Bang, các ngôi sao hình thành do lực:", options: ["Hấp dẫn", "Ma sát", "Côriôlit", "Li tâm"], correct: 0, explanation: "Lực hấp dẫn làm vật chất ngưng tụ." },
            { id: 46, question: "Quỹ đạo các hành tinh quanh Mặt Trời có dạng:", options: ["Tròn", "Elip", "Không xác định", "Xoắn ốc"], correct: 1, explanation: "Quỹ đạo hình elip gần tròn." },
            { id: 49, question: "Thứ tự xa dần Mặt Trời:", options: ["Kim, Đất, Thủy, Hỏa", "Kim, Thủy, Hỏa, Đất", "Thủy, Kim, Đất, Hỏa", "Kim, Thủy, Đất, Hỏa"], correct: 2, explanation: "Thủy Tinh -> Kim Tinh -> Trái Đất -> Hỏa Tinh." },
            { id: 53, question: "Khoảng cách trung bình từ Trái Đất đến Mặt Trời:", options: ["149,6 nghìn km", "149,6 triệu km", "149,6 tỉ km", "140 triệu km"], correct: 1, explanation: "Một đơn vị thiên văn (AU)." },
            { id: 54, question: "Trục Trái Đất hợp với mặt phẳng xích đạo góc:", options: ["90 độ", "60 độ", "66 độ", "66 độ 33 phút"], correct: 0, explanation: "Trục vuông góc với mặt phẳng xích đạo." },
            { id: 55, question: "Trục Trái Đất hợp với mặt phẳng quỹ đạo góc:", options: ["90 độ", "60 độ", "66 độ", "66 độ 33 phút"], correct: 3, explanation: "Góc nghiêng 66°33'." },
            { id: 56, question: "Hướng tự quay của Trái Đất:", options: ["Thuận chiều kim đồng hồ", "Cùng hướng quỹ đạo", "Ngược chiều kim đồng hồ", "Từ Đông sang Tây"], correct: 3, explanation: "Từ Tây sang Đông (Ngược chiều kim đồng hồ nếu nhìn từ cực Bắc)." },
            { id: 60, question: "Vận tốc tự quay của Trái Đất:", options: ["Lớn nhất ở xích đạo, giảm về cực", "Tăng dần về cực", "Lớn nhất ở chí tuyến", "Không đổi"], correct: 0, explanation: "Vận tốc dài giảm dần từ xích đạo về cực." },
            { id: 63, question: "Nguyên nhân ngày đêm luân phiên:", options: ["Trái Đất hình cầu", "Trái Đất tự quay", "Tia sáng song song", "Cả a và b"], correct: 3, explanation: "Hình cầu sinh ra ngày đêm, tự quay sinh ra sự luân phiên." },
            { id: 67, question: "Đường chuyển ngày quốc tế lấy theo kinh tuyến:", options: ["180 độ", "0 độ", "90 độ Đ", "90 độ T"], correct: 0, explanation: "Kinh tuyến 180 độ trên Thái Bình Dương." },
            { id: 69, question: "Lực Côriôlit sinh ra do:", options: ["Trái Đất tự quay", "Trái Đất quay quanh MT", "Trục nghiêng", "Sức hút"], correct: 0, explanation: "Do quán tính của chuyển động tự quay." },
            { id: 70, question: "Ở bán cầu Nam, vật chuyển động bị lệch về:", options: ["Bên phải", "Bên trái", "Bên trên", "Xích đạo"], correct: 1, explanation: "Bán cầu Bắc lệch phải, bán cầu Nam lệch trái." },
            { id: 79, question: "Nguyên nhân sinh ra mùa:", options: ["Tự quay", "Chuyển động quanh MT", "Trục nghiêng không đổi phương", "Cả b và c"], correct: 2, explanation: "Kết hợp chuyển động tịnh tiến và trục nghiêng." },
            { id: 82, question: "Khu vực nhận nhiệt lớn nhất trong năm:", options: ["Cực", "Xích đạo", "Vòng cực", "Chí tuyến"], correct: 1, explanation: "Góc nhập xạ tại xích đạo luôn lớn." },
            { id: 87, question: "Góc nhập xạ tại xích đạo ngày 21/3 và 23/9:", options: ["90 độ", "60 độ", "180 độ", "66 độ 33 phút"], correct: 0, explanation: "Mặt trời lên thiên đỉnh tại xích đạo." },
            { id: 302, question: "Hành tinh nào gần Mặt Trời nhất:", options: ["Kim Tinh", "Thủy Tinh", "Trái Đất", "Hỏa Tinh"], correct: 1, explanation: "Thủy Tinh." },
            { id: 303, question: "Hiện tượng nào chứng tỏ Trái Đất tự quay:", options: ["Ngày đêm luân phiên", "Mùa", "Năm nhuận", "Thủy triều"], correct: 0, explanation: "Luân phiên ngày đêm." },
            { id: 304, question: "Giờ Việt Nam (GMT+7) sớm hơn giờ gốc:", options: ["7 giờ", "5 giờ", "12 giờ", "10 giờ"], correct: 0, explanation: "Nằm ở múi giờ số 7." },

            // CHƯƠNG 3: THẠCH QUYỂN
            { id: 91, question: "Để biết cấu trúc Trái Đất, người ta dựa vào:", options: ["Mũi khoan", "Nghiên cứu đáy biển", "Sóng địa chấn", "Nguồn gốc"], correct: 2, explanation: "Sóng địa chấn thay đổi vận tốc qua các môi trường khác nhau." },
            { id: 92, question: "Thứ tự độ dày các lớp từ nhỏ đến lớn:", options: ["Vỏ, Manti, Nhân", "Manti, Nhân, Vỏ", "Nhân, Manti, Vỏ", "Vỏ, Nhân, Manti"], correct: 0, explanation: "Vỏ mỏng nhất, Nhân dày nhất." },
            { id: 94, question: "Các tầng đá vỏ lục địa từ trên xuống:", options: ["Trầm tích, Granit, Badan", "Trầm tích, Badan, Granit", "Granit, Trầm tích, Badan", "Badan, Trầm tích, Granit"], correct: 0, explanation: "Vỏ lục địa có đủ 3 tầng." },
            { id: 97, question: "Đặc điểm tầng badan:", options: ["Nặng hơn tầng trên", "Hình thành do phun trào", "Cấu tạo vỏ đại dương", "Tất cả các ý trên"], correct: 3, explanation: "Đá badan nặng, sẫm màu, cấu tạo chính vỏ đại dương." },
            { id: 98, question: "Thạch quyển giới hạn bởi:", options: ["Vỏ Trái Đất", "Vỏ và lớp Manti", "Lớp Manti", "Vỏ và phần trên Manti"], correct: 3, explanation: "Gồm vỏ Trái Đất và phần cứng trên cùng của lớp Manti." },
            { id: 102, question: "Thuyết kiến tạo mảng dựa trên:", options: ["Thuyết trôi lục địa", "Thuyết Big Bang", "Thuyết nhật tâm", "Thuyết địa tâm"], correct: 0, explanation: "Kế thừa từ Alfred Wegener." },
            { id: 104, question: "Dãy Himalaya hình thành do:", options: ["Mảng Ấn Độ xô Âu-Á", "Mảng Thái Bình Dương xô Âu-Á", "Mảng Phi xô Âu-Á", "Mảng Bắc Mỹ xô Nam Mỹ"], correct: 0, explanation: "Hai mảng lục địa xô vào nhau gây uốn nếp." },
            { id: 105, question: "Hai mảng tách xa nhau sẽ xảy ra:", options: ["Mắc ma trào lên", "Động đất, núi lửa", "Bão lũ", "Cả a và b"], correct: 3, explanation: "Tạo ra sống núi ngầm, đứt gãy, động đất." },
            { id: 109, question: "Đá mắc ma hình thành do:", options: ["Nguội lạnh vật chất nóng chảy", "Trầm tích", "Biến chất", "Sinh vật"], correct: 0, explanation: "Do macma phun trào hoặc xâm nhập." },
            { id: 110, question: "Đá trầm tích hình thành từ:", options: ["Sự lắng tụ, nén chặt vật liệu", "Nén ép kiến tạo", "Núi lửa", "Cả a và b"], correct: 0, explanation: "Tích tụ vật liệu vụn, xác sinh vật." },
            { id: 112, question: "Nội lực là lực sinh ra:", options: ["Bên trong Trái Đất", "Bên ngoài", "Trong khí quyển", "Từ vũ trụ"], correct: 0, explanation: "Nguồn năng lượng từ lòng đất." },
            { id: 113, question: "Nguyên nhân sinh ra nội lực:", options: ["Năng lượng công nghiệp", "Thủy triều", "Phân hủy phóng xạ, phản ứng hóa học", "Tất cả"], correct: 2, explanation: "Năng lượng phóng xạ và dịch chuyển vật chất." },
            { id: 117, question: "Biểu hiện vận động theo phương thẳng đứng:", options: ["Núi cao lên", "Biển tiến, biển thoái", "Đồng bằng mở rộng", "Động đất"], correct: 1, explanation: "Nâng lên hạ xuống chậm chạp làm thay đổi mực nước." },
            { id: 119, question: "Địa hào hình thành do:", options: ["Bộ phận sụt xuống giữa 2 đứt gãy", "Vận động mạnh", "Uốn nếp", "Tất cả"], correct: 0, explanation: "Sụt lún tại vùng đứt gãy." },
            { id: 120, question: "Ngoại lực là:", options: ["Lực trong Manti", "Lực bên ngoài, trên bề mặt", "Lực từ tầng Badan", "Tất cả"], correct: 1, explanation: "Nguồn gốc từ năng lượng Mặt Trời." },
            { id: 123, question: "Quá trình ngoại lực gồm:", options: ["Phong hóa, bóc mòn", "Vận chuyển, bồi tụ", "Vận chuyển, tạo núi", "Cả a và b"], correct: 3, explanation: "4 quá trình chính." },
            { id: 127, question: "Phong hóa lí học là:", options: ["Phá hủy đá thành khối vụn", "Phá vỡ cấu trúc", "Không đổi thành phần hóa học", "Cả a và c"], correct: 3, explanation: "Chỉ phá hủy cơ học." },
            { id: 128, question: "Nguyên nhân phong hóa lí học:", options: ["Thay đổi nhiệt độ, đóng băng", "Gió mưa", "Nhiệt lòng đất", "Va đập"], correct: 0, explanation: "Sự co giãn do nhiệt và nước đóng băng." },
            { id: 133, question: "Mài mòn do sóng biển tạo ra:", options: ["Hàm ếch, nền mài mòn", "Cửa sông", "Vịnh biển", "Đồng bằng"], correct: 0, explanation: "Sóng đập vào vách đá ven bờ." },
            { id: 139, question: "Địa hình do gió ở sa mạc:", options: ["Cồn cát, đụn cát", "Cột đá, nấm đá", "Ốc đảo", "Tất cả"], correct: 3, explanation: "Gồm cả bóc mòn (nấm đá) và bồi tụ (cồn cát)." },
            { id: 140, question: "Đồng bằng châu thổ do bồi tụ của:", options: ["Sóng biển", "Sông", "Thủy triều", "Rừng"], correct: 1, explanation: "Sông mang phù sa bồi đắp." },
            { id: 305, question: "Đá Gơnai thuộc nhóm:", options: ["Mắc ma", "Trầm tích", "Biến chất", "Hữu cơ"], correct: 2, explanation: "Biến chất từ đá Granit." },
            { id: 306, question: "Đá Vôi thuộc nhóm:", options: ["Mắc ma", "Trầm tích", "Biến chất", "Vô cơ"], correct: 1, explanation: "Trầm tích hóa học/sinh học." },
            { id: 307, question: "Vận động kiến tạo do:", options: ["Nội lực", "Ngoại lực", "Bức xạ", "Con người"], correct: 0, explanation: "Lực bên trong Trái Đất." },
            { id: 308, question: "Hẻm vực Grand Canyon là kết quả của:", options: ["Dòng chảy xâm thực", "Gió thổi", "Băng hà", "Sóng biển"], correct: 0, explanation: "Sông Colorado cắt xẻ." },
            { id: 309, question: "Bãi biển là dạng địa hình:", options: ["Bồi tụ do sóng", "Mài mòn do sóng", "Xâm thực", "Thổi mòn"], correct: 0, explanation: "Sóng đưa cát vào bờ." },

            // CHƯƠNG 4: KHÍ QUYỂN
            { id: 141, question: "Khí quyển là:", options: ["Khoảng không", "Lớp không khí bao quanh TĐ", "Chất khí", "Lớp khí 500km"], correct: 1, explanation: "Lớp vỏ khí bảo vệ Trái Đất." },
            { id: 142, question: "Thành phần không khí:", options: ["Nitơ, Ôxi, hơi nước...", "Chỉ Ôxi", "Chỉ Nitơ", "Nitơ và Ôxi là chính"], correct: 2, explanation: "Nitơ ~78%, Ôxi ~21%." },
            { id: 146, question: "Đặc điểm tầng đối lưu:", options: ["Mỏng nhất", "Độ dày đồng nhất", "Tập trung đại bộ phận không khí", "Chuyển động thẳng đứng"], correct: 0, explanation: "Chứa 80% không khí, dày 8-16km." },
            { id: 147, question: "Tầng đối lưu dày nhất ở xích đạo do:", options: ["Lực li tâm lớn", "Nhiệt cao, đối lưu mạnh", "Nhiều không khí", "Diện tích đại dương"], correct: 1, explanation: "Nhiệt nóng làm không khí nở ra và bốc lên cao." },
            { id: 151, question: "Đặc điểm tầng bình lưu:", options: ["Khô, loãng", "Chuyển động ngang", "Nhiệt độ đỉnh 10 độ", "Có lớp ôzôn"], correct: 3, explanation: "Chứa lớp Ozon quan trọng." },
            { id: 152, question: "Khí ôzôn hình thành do:", options: ["Hơi nước", "Nhiệt độ", "Bức xạ tử ngoại", "Gió"], correct: 2, explanation: "Tia cực tím tác dụng lên oxy." },
            { id: 159, question: "Kí hiệu khối khí chí tuyến lục địa:", options: ["TM", "TC", "Tc", "Tm"], correct: 2, explanation: "T (Tropical), c (continental)." },
            { id: 161, question: "Frông khí quyển là:", options: ["Mặt tiếp xúc đất", "Mặt tiếp xúc ngoại tuyến", "Mặt ngăn cách 2 khối khí", "Mặt tiếp xúc lục địa"], correct: 2, explanation: "Ranh giới giữa hai khối khí khác biệt." },
            { id: 163, question: "Frông ôn đới (FP) là tiếp xúc của:", options: ["Địa cực và ôn đới", "Địa cực lục địa/hải dương", "Ôn đới lục địa/hải dương", "Ôn đới và chí tuyến"], correct: 3, explanation: "Giữa khối khí Ôn đới (P) và Chí tuyến (T)." },
            { id: 169, question: "Nhiệt độ giảm từ xích đạo về cực do:", options: ["Thời gian chiếu sáng", "Góc nhập xạ giảm", "Tầng đối lưu mỏng", "Tất cả"], correct: 3, explanation: "Góc nhập xạ là nguyên nhân chính." },
            { id: 171, question: "Lên cao 100m nhiệt độ giảm:", options: ["0.6 độ", "1 độ", "1.6 độ", "0.06 độ"], correct: 0, explanation: "Quy luật đai cao." },
            { id: 174, question: "Nhiệt độ tăng thì khí áp:", options: ["Tăng", "Giảm", "Không đổi", "Tùy lúc"], correct: 1, explanation: "Khí nở ra, tỉ trọng giảm -> áp giảm." },
            { id: 177, question: "Không khí chứa nhiều hơi nước thì khí áp:", options: ["Giảm", "Tăng", "Tăng do nặng", "Cả b và c"], correct: 0, explanation: "Hơi nước nhẹ hơn không khí khô -> áp giảm." },
            { id: 180, question: "Gió Tây ôn đới xuất phát từ:", options: ["Áp thấp chí tuyến", "Áp cao chí tuyến", "Áp cao cực", "Áp thấp ôn đới"], correct: 1, explanation: "Thổi từ áp cao cận chí tuyến về áp thấp ôn đới." },
            { id: 184, question: "Hoang mạc ở chí tuyến do:", options: ["Bức xạ lớn", "Dòng biển lạnh", "Áp cao ngự trị", "Thực vật thưa"], correct: 2, explanation: "Áp cao gây giáng khí, không mưa." },
            { id: 189, question: "Mưa trong lục địa chủ yếu do:", options: ["Gió biển", "Nước ngầm", "Hồ ao, rừng bốc hơi", "Cả b và c"], correct: 2, explanation: "Ngưng kết hơi nước tại chỗ." },
            { id: 190, question: "Khu vực gió Mậu dịch mưa ít vì:", options: ["Gió khô", "Không qua biển", "Gió yếu", "Tất cả"], correct: 0, explanation: "Gió thổi về vùng nóng hơn, khó gây mưa." },
            { id: 192, question: "Việt Nam không khô hạn như Tây Á do:", options: ["Gió mùa", "Gió Mậu dịch", "Gió đất", "Gió Tây"], correct: 0, explanation: "Gió mùa mang ẩm từ biển." },
            { id: 193, question: "Nơi có dòng biển nóng mưa nhiều vì:", options: ["Không khí ẩm", "Gió mang ẩm vào", "Áp thấp", "Cả b và c"], correct: 3, explanation: "Bốc hơi mạnh, gió mang vào gây mưa." },
            { id: 196, question: "Độ cao ảnh hưởng lượng mưa:", options: ["Càng cao càng mưa", "Tăng đến giới hạn rồi giảm", "Càng cao càng giảm", "Đỉnh mưa nhiều nhất"], correct: 1, explanation: "Mưa tăng theo độ cao đến một mức rồi giảm (hết hơi nước)." },
            { id: 310, question: "Khối khí kí hiệu P là:", options: ["Chí tuyến", "Ôn đới", "Cực", "Xích đạo"], correct: 2, explanation: "Polar (Địa cực)." },
            { id: 311, question: "Gió mùa Đông Bắc ở nước ta có tính chất:", options: ["Lạnh khô", "Nóng ẩm", "Lạnh ẩm", "Khô nóng"], correct: 0, explanation: "Xuất phát từ áp cao Siberia." },
            { id: 312, question: "Mưa đá thường xảy ra ở:", options: ["Frông nóng", "Frông lạnh", "Dải hội tụ", "Áp thấp"], correct: 1, explanation: "Do đối lưu mạnh trong Frông lạnh." },

            // CHƯƠNG 5: THỦY QUYỂN
            { id: 201, question: "Thủy quyển phân bố ở:", options: ["Biển, đại dương", "Lục địa", "Khí quyển", "Tất cả"], correct: 3, explanation: "Nước có ở khắp nơi." },
            { id: 204, question: "Nước ngầm có nguồn gốc từ:", options: ["Nước mặt thấm xuống", "Nước biển", "Nước từ lòng đất", "Có sẵn"], correct: 0, explanation: "Do nước mưa thấm xuống đất." },
            { id: 207, question: "Phân loại hồ dựa vào:", options: ["Nguồn gốc hình thành", "Tính chất nước", "Diện tích", "Độ sâu"], correct: 0, explanation: "Hồ kiến tạo, hồ núi lửa, hồ băng hà..." },
            { id: 210, question: "Hồ nguồn gốc miệng núi lửa:", options: ["Ba Bể", "Hòa Bình", "Núi Cốc", "Tơ Nưng"], correct: 3, explanation: "Hồ Tơ Nưng (Biển Hồ) - Gia Lai." },
            { id: 213, question: "Hồ từ khúc uốn sông có hình:", options: ["Tròn", "Bán nguyệt", "Móng ngựa", "Dài"], correct: 2, explanation: "Hồ móng ngựa (hồ vết chân trâu)." },
            { id: 220, question: "Tốc độ dòng chảy sông phụ thuộc:", options: ["Độ dốc, chiều rộng", "Độ dốc, vị trí", "Chiều rộng, hướng", "Hướng, vị trí"], correct: 0, explanation: "Độ dốc lòng sông và mặt cắt ngang." },
            { id: 221, question: "Sông dài nhất thế giới:", options: ["Sông Nin", "Amazon", "Trường Giang", "Mississippi"], correct: 0, explanation: "Sông Nin (Châu Phi)." },
            { id: 228, question: "Sông có lưu vực lớn nhất:", options: ["Amazon", "Nin", "Trường Giang", "Vonga"], correct: 0, explanation: "Sông Amazon (Nam Mỹ)." },
            { id: 239, question: "Độ muối nước biển thay đổi do:", options: ["Bốc hơi, lượng mưa, nước sông", "Gió, dòng biển", "Nhiệt độ", "Tất cả"], correct: 0, explanation: "Cân bằng giữa lượng nước mất đi (bốc hơi) và thêm vào (mưa/sông)." },
            { id: 241, question: "Độ muối cao nhất ở chí tuyến do:", options: ["Nhiệt cao", "Bốc hơi mạnh, mưa ít", "Mưa ít", "Tất cả"], correct: 1, explanation: "Vùng áp cao, trời quang, bốc hơi mạnh." },
            { id: 243, question: "Từ độ sâu 3000m nhiệt độ nước biển:", options: ["Không đổi", "Tăng", "Giảm", "Biến động"], correct: 0, explanation: "Hằng nhiệt (khoảng 2-3 độ C)." },
            { id: 245, question: "Vai trò của biển với khí quyển:", options: ["Cung cấp hơi nước, điều hòa nhiệt", "Vòng tuần hoàn nước", "Giảm khắc nghiệt", "Tất cả"], correct: 3, explanation: "Điều hòa khí hậu toàn cầu." },
            { id: 313, question: "Hồ Thác Bà là hồ:", options: ["Tự nhiên", "Nhân tạo", "Núi lửa", "Kiến tạo"], correct: 1, explanation: "Hồ thủy điện." },
            { id: 314, question: "Sông Mê Kông chảy qua bao nhiêu nước:", options: ["4", "5", "6", "7"], correct: 2, explanation: "TQ, Myanmar, Lào, Thái, Cam, Việt." },
            { id: 315, question: "Thủy triều đỏ gây hại vì:", options: ["Làm chết sinh vật biển", "Đẹp", "Tăng phù sa", "Tăng muối"], correct: 0, explanation: "Tảo độc nở hoa." },

            // CHƯƠNG 6: ĐẤT & SINH QUYỂN
            { id: 251, question: "Thổ nhưỡng là:", options: ["Vật chất tơi xốp", "Nơi sống", "Lớp tơi xốp có độ phì", "Cả b và c"], correct: 2, explanation: "Lớp vỏ phong hóa có độ phì nhiêu." },
            { id: 254, question: "Quá trình hình thành đất chịu tác động của:", options: ["Đá mẹ, khí hậu", "Sinh vật, địa hình", "Thời gian, con người", "Cả a và c"], correct: 3, explanation: "6 nhân tố hình thành đất." },
            { id: 257, question: "Đá mẹ quyết định:", options: ["Thành phần khoáng, cơ giới", "Khoáng, hữu cơ", "Vô cơ, hữu cơ", "Cơ giới, hữu cơ"], correct: 0, explanation: "Quyết định tính chất lí hóa ban đầu." },
            { id: 261, question: "Nhân tố chủ đạo hình thành đất:", options: ["Đá mẹ", "Khí hậu", "Sinh vật", "Địa hình"], correct: 2, explanation: "Sinh vật cung cấp hữu cơ, tạo độ phì." },
            { id: 267, question: "Giới hạn trên của sinh quyển:", options: ["Trên tầng đối lưu", "Tiếp giáp tầng ôzôn", "Tầng ion", "Đỉnh Everest"], correct: 1, explanation: "Tầng Ozon ngăn tia cực tím." },
            { id: 272, question: "Nhân tố quan trọng nhất phân bố thực vật:", options: ["Đất", "Nước", "Khí hậu", "Địa hình"], correct: 2, explanation: "Nhiệt và ẩm quy định đới thực vật." },
            { id: 275, question: "Thảm thực vật ôn đới lục địa lạnh:", options: ["Rừng lá kim - đất nâu", "Rừng lá kim - đất pốtdôn", "Rừng lá rộng", "Rừng lá kim - đất xám"], correct: 1, explanation: "Rừng Taiga và đất Pốtdôn." },
            { id: 316, question: "Đất pốtdôn thường chua vì:", options: ["Rửa trôi mạnh", "Tích tụ mùn", "Khô hạn", "Nhiều canxi"], correct: 0, explanation: "Môi trường lạnh ẩm, rửa trôi bazơ." },
            { id: 317, question: "Chuỗi thức ăn là biểu hiện của:", options: ["Mối quan hệ sinh vật", "Quy luật đai cao", "Địa ô", "Thống nhất"], correct: 0, explanation: "Quan hệ dinh dưỡng." },
            { id: 318, question: "Vành đai lạnh có:", options: ["Băng tuyết vĩnh cửu", "Rừng lá kim", "Rừng rậm", "Thảo nguyên"], correct: 0, explanation: "Nhiệt độ quá thấp." },

            // CHƯƠNG 7: QUY LUẬT ĐỊA LÍ
            { id: 280, question: "Giới hạn vỏ địa lí không bao gồm:", options: ["Tầng badan", "Giới hạn trên bình lưu", "Vỏ lục địa", "Sự xâm nhập"], correct: 0, explanation: "Vỏ địa lí chỉ tính đến đáy vỏ phong hóa (trên lục địa)." },
            { id: 284, question: "Biểu hiện không phải quy luật thống nhất:", options: ["CO2 tăng -> Nhiệt tăng", "Động đất -> Sóng thần", "Mất rừng -> Sông thất thường", "Lũ trùng mùa mưa"], correct: 1, explanation: "Động đất gây sóng thần là quan hệ nhân quả cục bộ." },
            { id: 285, question: "Quy luật địa đới là:", options: ["Thay đổi theo vĩ độ", "Thay đổi có quy luật theo vĩ độ", "Thay đổi theo kinh độ", "Thay đổi khí hậu"], correct: 1, explanation: "Từ Xích đạo về Cực." },
            { id: 286, question: "Nguyên nhân địa đới:", options: ["Thay đổi mùa", "Thay đổi bức xạ năm", "Bức xạ thay đổi theo vĩ độ", "Chênh lệch thời gian sáng"], correct: 2, explanation: "Do dạng hình cầu của Trái Đất." },
            { id: 319, question: "Quy luật địa ô biểu hiện rõ nhất ở:", options: ["Thảm thực vật theo kinh độ", "Đất theo vĩ độ", "Khí hậu theo độ cao", "Mùa"], correct: 0, explanation: "Thay đổi từ Đông sang Tây." },
            { id: 320, question: "Việt Nam nằm trong đới khí hậu:", options: ["Nhiệt đới", "Ôn đới", "Hàn đới", "Cận nhiệt"], correct: 0, explanation: "Nhiệt đới gió mùa." },
            
            //câu hỏi đang phân loại, đang được cập nhật vào thư viện ứng dụng
            { id: 321, question: "Khu vực chịu ảnh hưởng của gió Mậu dịch thường:", options: ["Mưa nhiều", "Mưa ít", "Lạnh giá", "Có tuyết"], correct: 1, explanation: "Gió Mậu dịch khô, ít mưa." },
            { id: 322, question: "Gió mùa là loại gió:", options: ["Thổi quanh năm", "Thổi theo mùa", "Thổi ban ngày", "Thổi ban đêm"], correct: 1, explanation: "Hướng ngược nhau giữa 2 mùa." },
            { id: 323, question: "Sông nào chảy qua Hà Nội:", options: ["Sông Hồng", "Sông Mã", "Sông Cả", "Sông Thu Bồn"], correct: 0, explanation: "Sông Hồng." },
            { id: 324, question: "Đất feralit hình thành ở vùng:", options: ["Ôn đới", "Nhiệt đới ẩm", "Hàn đới", "Hoang mạc"], correct: 1, explanation: "Quá trình feralit diễn ra mạnh ở nhiệt đới ẩm." },
            { id: 325, question: "Sinh vật tiêu thụ là:", options: ["Thực vật", "Động vật ăn cỏ", "Vi sinh vật", "Nấm"], correct: 1, explanation: "Động vật." },
            { id: 326, question: "Quy luật thống nhất do:", options: ["Nội lực", "Ngoại lực", "Tác động đồng thời Nội/Ngoại lực", "Con người"], correct: 2, explanation: "Mọi thành phần chịu tác động chung." },
            { id: 327, question: "Vỏ Trái Đất dày nhất ở:", options: ["Đại dương", "Lục địa (miền núi)", "Đồng bằng", "Thềm lục địa"], correct: 1, explanation: "Có thể dày tới 70km." },
            { id: 328, question: "Vỏ Trái Đất mỏng nhất ở:", options: ["Đại dương", "Lục địa", "Núi cao", "Cao nguyên"], correct: 0, explanation: "Chỉ 5-10km." },
            { id: 329, question: "Tầng Ozon nằm ở:", options: ["Đối lưu", "Bình lưu", "Giữa", "Ion"], correct: 1, explanation: "Độ cao 20-25km." },
            { id: 330, question: "Gió đất thổi vào:", options: ["Ban ngày", "Ban đêm", "Mùa hạ", "Mùa đông"], correct: 1, explanation: "Từ đất ra biển ban đêm." },
            { id: 331, question: "Gió biển thổi vào:", options: ["Ban ngày", "Ban đêm", "Mùa hạ", "Mùa đông"], correct: 0, explanation: "Từ biển vào đất ban ngày." },
            { id: 332, question: "Nhiệt độ không khí cao nhất ở:", options: ["Xích đạo", "Chí tuyến", "Cực", "Ôn đới"], correct: 1, explanation: "Vùng chí tuyến ít mây, bức xạ mạnh." },
            { id: 333, question: "Sông Nin chảy theo hướng:", options: ["Bắc-Nam", "Nam-Bắc", "Đông-Tây", "Tây-Đông"], correct: 1, explanation: "Đổ ra Địa Trung Hải." },
            { id: 334, question: "Dòng biển nóng thường chảy từ:", options: ["Xích đạo về cực", "Cực về xích đạo", "Đông sang Tây", "Tây sang Đông"], correct: 0, explanation: "Mang nước ấm lên vùng lạnh." },
            { id: 335, question: "Dòng biển lạnh thường chảy từ:", options: ["Xích đạo về cực", "Cực về xích đạo", "Đông sang Tây", "Tây sang Đông"], correct: 1, explanation: "Mang nước lạnh về vùng nóng." },
            { id: 336, question: "Thổ nhưỡng quyển tiếp xúc với:", options: ["Khí quyển", "Thạch quyển", "Thủy quyển", "Tất cả"], correct: 3, explanation: "Nằm ở bề mặt tiếp xúc các quyển." },
            { id: 337, question: "Sinh quyển bao gồm:", options: ["Thực vật", "Động vật", "Vi sinh vật", "Tất cả"], correct: 3, explanation: "Toàn bộ sinh vật." },
            { id: 338, question: "Quy luật đai cao thể hiện rõ nhất ở:", options: ["Vùng đồng bằng", "Vùng núi cao", "Vùng biển", "Hoang mạc"], correct: 1, explanation: "Sự thay đổi theo độ cao." },
            { id: 339, question: "Mùa lũ sông Hồng vào:", options: ["Mùa hạ", "Mùa đông", "Mùa xuân", "Quanh năm"], correct: 0, explanation: "Trùng mùa mưa." },
            { id: 340, question: "Sông Mê Kông bắt nguồn từ:", options: ["Tây Tạng (TQ)", "Lào", "Thái Lan", "Việt Nam"], correct: 0, explanation: "Cao nguyên Tây Tạng." },
            { id: 341, question: "Nhân tố làm biến đổi khí hậu mạnh nhất hiện nay:", options: ["Núi lửa", "Con người", "Mặt Trời", "Động đất"], correct: 1, explanation: "Hoạt động công nghiệp, khí thải." },
            { id: 342, question: "Hiệu ứng nhà kính làm:", options: ["Trái Đất nóng lên", "Trái Đất lạnh đi", "Mưa nhiều", "Gió mạnh"], correct: 0, explanation: "Giữ nhiệt." },
            { id: 343, question: "Bản đồ giáo khoa dùng để:", options: ["Học tập", "Quân sự", "Hàng hải", "Du lịch"], correct: 0, explanation: "Mục đích giáo dục." },
            { id: 344, question: "Tỉ lệ bản đồ 1:1.000.000 nghĩa là 1cm trên bản đồ bằng:", options: ["1km", "10km", "100km", "1000km"], correct: 1, explanation: "1.000.000cm = 10km." },
            { id: 345, question: "Kinh tuyến gốc là kinh tuyến:", options: ["0 độ", "180 độ", "90 độ", "360 độ"], correct: 0, explanation: "Qua đài thiên văn Greenwich." },
            { id: 346, question: "Vĩ tuyến gốc là:", options: ["Xích đạo", "Chí tuyến", "Vòng cực", "Cực"], correct: 0, explanation: "Vĩ tuyến 0 độ." },
            { id: 347, question: "Bán cầu Đông và Tây ngăn cách bởi:", options: ["Kinh tuyến 0 và 180", "Xích đạo", "Kinh tuyến 20W và 160E", "Chí tuyến"], correct: 2, explanation: "Quy ước quốc tế để tránh cắt qua châu lục." },
            { id: 348, question: "Việt Nam thuộc múi giờ:", options: ["Số 7", "Số 8", "Số 6", "Số 9"], correct: 0, explanation: "GMT+7." },
            { id: 349, question: "Trái Đất có vệ tinh tự nhiên là:", options: ["Mặt Trăng", "Mặt Trời", "Sao Hỏa", "Sao Kim"], correct: 0, explanation: "Duy nhất 1 vệ tinh." },
            { id: 350, question: "Thủy triều lớn nhất vào ngày:", options: ["Trăng tròn/Không trăng", "Trăng khuyết", "Đầu tháng", "Cuối tháng"], correct: 0, explanation: "Lực hút cộng hưởng." }
        ];

        // =================================================================================
        // MAIN APP COMPONENT
        // =================================================================================

        const App = () => {
            const [activeTab, setActiveTab] = useState('flashcards');

            // --- FLASHCARD COMPONENT (UPDATED) ---
            const FlashcardMode = () => {
                const [cards, setCards] = useState(fullFlashcardsData);
                const [idx, setIdx] = useState(0);
                const [flipped, setFlipped] = useState(false);
                const [status, setStatus] = useState({}); // {id: 1=Thuộc, 2=Cần ôn}
                const [isEnd, setIsEnd] = useState(false); // New state for end of deck

                // Guard clauses
                if (!cards || cards.length === 0) return <div className="p-8 text-center">Đang tải dữ liệu...</div>;
                const current = cards[idx];
                if (!current && !isEnd) return <div className="p-8 text-center text-red-500">Lỗi dữ liệu thẻ!</div>;

                const handleMark = (type) => {
                    setStatus({ ...status, [current.id]: type });
                    if (idx < cards.length - 1) {
                        setTimeout(() => { 
                            setFlipped(false); 
                            setTimeout(() => setIdx(i => i + 1), 200); 
                        }, 200);
                    } else {
                        // Reached max value
                        setTimeout(() => setIsEnd(true), 300);
                    }
                };

                const resetDeck = (keepData = false) => {
                    setIsEnd(false);
                    setIdx(0);
                    setFlipped(false);
                    if (!keepData) setStatus({});
                    // Shuffle on reset
                    setCards([...cards].sort(() => Math.random() - 0.5));
                };

                const learned = Object.values(status).filter(x => x === 1).length;
                const review = Object.values(status).filter(x => x === 2).length;
                
                if (isEnd) {
                    return (
                        <div className="max-w-2xl mx-auto p-8 flex flex-col h-full justify-center text-center animate-fade-in">
                            <div className="w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6 mx-auto text-blue-600 shadow-sm">
                                <CheckCircle size={48} />
                            </div>
                            <h2 className="text-3xl font-bold text-slate-800 mb-4">Bạn đã hoàn thành bộ thẻ!</h2>
                            <div className="flex justify-center gap-4 mb-8">
                                <div className="bg-green-100 text-green-700 px-5 py-2 rounded-xl font-bold text-lg shadow-sm">
                                    Đã thuộc: {learned}
                                </div>
                                <div className="bg-red-100 text-red-700 px-5 py-2 rounded-xl font-bold text-lg shadow-sm">
                                    Cần ôn: {review}
                                </div>
                            </div>
                            <div className="grid gap-4">
                                <button onClick={() => resetDeck(true)} className="py-4 rounded-xl bg-blue-600 text-white font-bold hover:bg-blue-700 transition shadow-lg transform hover:scale-105">
                                    Ôn tập lại (Giữ kết quả)
                                </button>
                                <button onClick={() => resetDeck(false)} className="py-4 rounded-xl bg-white text-slate-600 font-bold hover:bg-slate-100 border-2 border-slate-200 transition">
                                    Học lại từ đầu (Xóa kết quả)
                                </button>
                            </div>
                        </div>
                    )
                }

                return (
                    <div className="max-w-2xl mx-auto p-4 flex flex-col h-full justify-center">
                        <div className="flex justify-between items-center mb-4 text-sm font-medium text-slate-500">
                            <span className="flex items-center gap-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-full"><Layers size={16}/> {current.category}</span>
                            <div className="flex gap-2">
                                <span className="bg-green-100 text-green-700 px-3 py-1 rounded-full flex items-center gap-1"><Check size={14}/> Thuộc: {learned}</span>
                                <span className="bg-red-100 text-red-700 px-3 py-1 rounded-full flex items-center gap-1"><X size={14}/> Ôn: {review}</span>
                            </div>
                        </div>

                        <div 
                            className="relative h-96 w-full cursor-pointer perspective-1000 group mb-6"
                            onClick={() => setFlipped(!flipped)}
                        >
                            <div className={`w-full h-full duration-500 transform-style-3d transition-all ${flipped ? 'rotate-y-180' : ''}`}>
                                <div className="absolute inset-0 bg-white border-2 border-blue-100 rounded-3xl shadow-xl flex flex-col items-center justify-center p-8 backface-hidden hover:border-blue-300 transition">
                                    <span className="text-xs uppercase tracking-widest text-slate-400 mb-4">Thuật ngữ</span>
                                    <h2 className="text-4xl font-bold text-slate-800 text-center">{current.term}</h2>
                                    <span className="absolute bottom-6 text-blue-400 text-xs animate-bounce">Chạm để lật</span>
                                </div>
                                <div className="absolute inset-0 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-3xl shadow-xl flex flex-col items-center justify-center p-8 rotate-y-180 backface-hidden">
                                    <span className="text-xs uppercase tracking-widest text-blue-200 mb-4">Định nghĩa</span>
                                    <p className="text-xl text-white text-center font-medium leading-relaxed">{current.definition}</p>
                                </div>
                            </div>
                        </div>

                        <div className="grid grid-cols-2 gap-4">
                            <button onClick={() => handleMark(2)} className="py-3 rounded-xl bg-red-50 text-red-600 font-bold hover:bg-red-100 transition flex justify-center items-center gap-2 border border-red-200"><ThumbsDown size={20}/> Chưa thuộc</button>
                            <button onClick={() => handleMark(1)} className="py-3 rounded-xl bg-green-50 text-green-600 font-bold hover:bg-green-100 transition flex justify-center items-center gap-2 border border-green-200"><ThumbsUp size={20}/> Đã thuộc</button>
                        </div>
                        <button onClick={() => resetDeck(false)} className="mt-6 text-slate-400 hover:text-slate-600 flex items-center justify-center gap-2 text-sm transition"><Shuffle size={14}/> Trộn thẻ ngẫu nhiên</button>
                    </div>
                );
            };

            // --- QUIZ COMPONENT ---
            const QuizMode = () => {
                const [quizSet, setQuizSet] = useState([]);
                const [idx, setIdx] = useState(0);
                const [selected, setSelected] = useState(null);
                const [score, setScore] = useState(0);
                const [finished, setFinished] = useState(false);

                const initQuiz = () => {
                    const shuffled = [...questionBank].sort(() => Math.random() - 0.5).slice(0, 10);
                    setQuizSet(shuffled);
                    setIdx(0);
                    setSelected(null);
                    setScore(0);
                    setFinished(false);
                };

                useEffect(() => { initQuiz(); }, []);

                const handleAns = (optIdx) => {
                    if (selected !== null) return;
                    setSelected(optIdx);
                    if (optIdx === quizSet[idx].correct) setScore(s => s + 1);
                };

                if (quizSet.length === 0) return <div className="p-10 text-center">Đang tạo bộ đề...</div>;

                if (finished) return (
                    <div className="flex flex-col items-center justify-center h-full animate-fade-in p-8 text-center">
                        <div className="w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center mb-6 text-yellow-600 shadow-sm">
                            <Award size={48} />
                        </div>
                        <h2 className="text-3xl font-bold text-slate-800 mb-2">Hoàn thành!</h2>
                        <p className="text-slate-500 mb-8 text-lg">Kết quả: <span className="text-blue-600 font-bold text-2xl">{score}/10</span> câu đúng.</p>
                        <button onClick={initQuiz} className="px-8 py-4 bg-blue-600 text-white rounded-2xl font-bold shadow-lg hover:bg-blue-700 transition flex items-center gap-2 transform hover:scale-105">
                            <RefreshCw size={20} /> Làm đề mới
                        </button>
                    </div>
                );

                const q = quizSet[idx];

                return (
                    <div className="max-w-3xl mx-auto h-full flex flex-col justify-center">
                        <div className="flex justify-between items-center mb-6">
                            <span className="text-xs font-bold text-slate-400 uppercase tracking-wider">Câu hỏi {idx + 1}/10</span>
                            <span className="px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-sm font-bold shadow-sm">Điểm: {score}</span>
                        </div>

                        <div className="bg-white rounded-3xl shadow-sm border border-slate-200 p-8 mb-6 animate-fade-in">
                            <h3 className="text-xl font-bold text-slate-800 leading-relaxed mb-6">{q.question}</h3>
                            <div className="space-y-3">
                                {q.options.map((opt, i) => {
                                    let style = "hover:bg-slate-50 border-slate-200 text-slate-700";
                                    if (selected !== null) {
                                        if (i === q.correct) style = "bg-green-50 border-green-500 text-green-700 font-medium";
                                        else if (i === selected) style = "bg-red-50 border-red-500 text-red-700";
                                        else style = "opacity-40 border-slate-200";
                                    }
                                    return (
                                        <button 
                                            key={i} 
                                            onClick={() => handleAns(i)}
                                            className={`w-full text-left p-4 rounded-xl border-2 transition-all duration-200 flex justify-between items-center ${style}`}
                                        >
                                            <span className="text-lg">{opt}</span>
                                            {selected !== null && i === q.correct && <Check size={24} className="text-green-600"/>}
                                            {selected !== null && i === selected && i !== q.correct && <X size={24} className="text-red-600"/>}
                                        </button>
                                    );
                                })}
                            </div>
                        </div>

                        {selected !== null && (
                            <div className="bg-blue-50 border border-blue-100 rounded-2xl p-6 mb-4 animate-fade-in flex gap-4">
                                <Info className="text-blue-600 flex-shrink-0 mt-1" />
                                <div>
                                    <h4 className="font-bold text-blue-800 mb-1">Giải thích</h4>
                                    <p className="text-blue-700">{q.explanation}</p>
                                </div>
                            </div>
                        )}

                        <div className="flex justify-end">
                            <button 
                                onClick={() => idx < 9 ? (setIdx(i => i + 1), setSelected(null)) : setFinished(true)}
                                disabled={selected === null}
                                className={`px-8 py-3 rounded-xl font-bold transition flex items-center gap-2 ${selected === null ? 'bg-slate-200 text-slate-400 cursor-not-allowed' : 'bg-blue-600 text-white shadow-lg hover:bg-blue-700'}`}
                            >
                                {idx === 9 ? 'Kết quả' : 'Tiếp theo'} <ArrowRight size={20} />
                            </button>
                        </div>
                    </div>
                );
            };

            // --- MINDMAP COMPONENT ---
            const MindMapMode = () => {
                const mapData = {
                    label: "ĐỊA LÍ 10 (HK1)",
                    children: [
                        { label: "BẢN ĐỒ", children: [{label: "Phương pháp biểu hiện"}, {label: "Sử dụng bản đồ"}, {label: "GPS & Bản đồ số"}] },
                        { label: "TRÁI ĐẤT", children: [{label: "Vũ trụ & Hệ MT"}, {label: "Hệ quả tự quay"}, {label: "Hệ quả quanh MT"}] },
                        { label: "THẠCH QUYỂN", children: [{label: "Cấu tạo"}, {label: "Nội lực"}, {label: "Ngoại lực"}] },
                        { label: "KHÍ QUYỂN", children: [{label: "Nhiệt độ"}, {label: "Khí áp & Gió"}, {label: "Mưa"}] },
                        { label: "THỦY QUYỂN", children: [{label: "Sông hồ"}, {label: "Biển & Đại dương"}] },
                        { label: "SINH QUYỂN", children: [{label: "Đất"}, {label: "Sinh vật"}] }
                    ]
                };

                const Node = ({ data, level }) => {
                    const [open, setOpen] = useState(true);
                    const hasChild = data.children?.length > 0;
                    return (
                        <div className="flex flex-col items-center">
                            <div 
                                onClick={() => setOpen(!open)}
                                className={`
                                    relative px-6 py-3 rounded-xl border-2 font-bold shadow-sm transition-all cursor-pointer z-10 select-none
                                    ${level === 0 ? 'bg-blue-600 text-white border-blue-600 text-xl' : 
                                      level === 1 ? 'bg-white text-blue-700 border-blue-200 text-lg hover:shadow-md' :
                                      'bg-slate-50 text-slate-600 border-slate-200 text-sm hover:border-blue-300'}
                                `}
                            >
                                {data.label}
                                {hasChild && (
                                    <span className={`absolute -right-3 -top-3 w-6 h-6 flex items-center justify-center rounded-full text-xs border bg-white ${open ? 'text-slate-400 border-slate-200' : 'text-blue-600 border-blue-200'}`}>
                                        {open ? <Minus size={12}/> : <Plus size={12}/>}
                                    </span>
                                )}
                            </div>
                            {open && hasChild && (
                                <div className="flex pt-8 gap-6 relative">
                                    <div className="absolute top-0 left-1/2 -translate-x-1/2 h-8 w-0.5 bg-slate-300"></div>
                                    <div className="absolute top-8 left-0 right-0 h-0.5 bg-slate-300 mx-auto" style={{width: `calc(100% - ${100/data.children.length}%)`}}></div>
                                    {data.children.map((child, i) => (
                                        <div key={i} className="flex flex-col items-center relative">
                                            <div className="absolute -top-8 left-1/2 -translate-x-1/2 h-8 w-0.5 bg-slate-300"></div>
                                            <Node data={child} level={level + 1} />
                                        </div>
                                    ))}
                                </div>
                            )}
                        </div>
                    );
                };

                return (
                    <div className="overflow-auto p-10 bg-white rounded-3xl border border-slate-200 h-full flex justify-center items-start shadow-inner">
                        <Node data={mapData} level={0} />
                    </div>
                );
            };

            const tabs = [
                { id: 'flashcards', label: 'Ghi nhớ', icon: BookOpen },
                { id: 'quiz', label: 'Trắc nghiệm', icon: Brain },
                { id: 'mindmap', label: 'Sơ đồ tư duy', icon: Share2 },
            ];

            return (
                <div className="flex flex-col h-full bg-slate-50">
                    <header className="bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center shadow-sm z-50">
                        <div className="flex items-center gap-3">
                            <div className="bg-gradient-to-tr from-blue-600 to-indigo-600 text-white p-2.5 rounded-xl shadow-lg shadow-blue-200">
                                <Globe size={24} />
                            </div>
                            <div>
                                <h1 className="text-xl font-black text-slate-800 tracking-tight">GeoMind 10</h1>
                                <p className="text-xs font-bold text-blue-600 tracking-wide uppercase">Ôn tập toàn diện</p>
                            </div>
                        </div>
                        <nav className="flex bg-slate-100 p-1.5 rounded-xl gap-1">
                            {tabs.map(t => (
                                <button
                                    key={t.id}
                                    onClick={() => setActiveTab(t.id)}
                                    className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${activeTab === t.id ? 'bg-white text-blue-700 shadow-sm' : 'text-slate-500 hover:text-slate-900 hover:bg-slate-200'}`}
                                >
                                    <t.icon size={18} /> {t.label}
                                </button>
                            ))}
                        </nav>
                    </header>

                    <main className="flex-1 overflow-y-auto p-4 md:p-8 relative scrollbar-hide">
                        <div className="absolute inset-0 bg-grid-slate-100 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))] -z-10"></div>
                        {activeTab === 'flashcards' && <div className="min-h-full"><FlashcardMode /></div>}
                        {activeTab === 'quiz' && <div className="min-h-full"><QuizMode /></div>}
                        {activeTab === 'mindmap' && <div className="h-full"><MindMapMode /></div>}
                    </main>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

